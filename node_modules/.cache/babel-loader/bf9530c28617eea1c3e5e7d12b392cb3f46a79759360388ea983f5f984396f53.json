{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios'; // Импорт Axios\n\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      accessToken: '',\n      loggedIn: false\n      // other data properties\n    };\n  },\n  methods: {\n    async submitForm() {\n      try {\n        const response = await axios.post('https://backend.neteniti.ru/api/auth/login', {\n          email: this.email,\n          password: this.password\n        });\n        const {\n          access_token\n        } = response.data;\n        this.accessToken = access_token; // Сохраняем access_token\n        window.localStorage.setItem('token', access_token);\n        console.log('Access token:', access_token);\n        this.loggedIn = true;\n\n        // Переход на AdminVhod после успешного входа\n        this.$router.push({\n          name: 'AdminVhod'\n        });\n\n        // Получение данных сразу после входа\n        this.fetchData();\n      } catch (error) {\n        console.error('Ошибка при входе:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","email","password","accessToken","loggedIn","methods","submitForm","response","post","access_token","window","localStorage","setItem","console","log","$router","push","name","fetchData","error"],"sources":["src/views/AdminPanel.vue"],"sourcesContent":["<template>\r\n    <div class=\"admin-panel\">\r\n      <h1>Вход в админ-панель</h1>\r\n      <form @submit.prevent=\"submitForm\" class=\"login-form\">\r\n        <label for=\"email\">Email:</label> <!-- Изменили метку на \"Email\" -->\r\n        <input type=\"text\" id=\"email\" v-model=\"email\" class=\"input-field\"> \r\n    \r\n        <label for=\"password\">Пароль:</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"password\" class=\"input-field\">\r\n    \r\n        <button type=\"submit\" class=\"login-button\">Войти</button>\r\n      </form>\r\n    \r\n      <div v-if=\"loggedIn\" class=\"welcome-message\">\r\n        <h2>Добро пожаловать, {{ username }}!</h2>\r\n        <!-- Ваша админ-панель здесь -->\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios'; // Импорт Axios\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        email: '',\r\n        password: '',\r\n        accessToken: '',\r\n        loggedIn: false,\r\n        // other data properties\r\n      };\r\n    },\r\n  \r\n    \r\n    methods: {\r\n      async submitForm() {\r\n        try {\r\n          const response = await axios.post('https://backend.neteniti.ru/api/auth/login', {\r\n            email: this.email,\r\n            password: this.password,\r\n          });\r\n          const { access_token } = response.data;\r\n          this.accessToken = access_token; // Сохраняем access_token\r\n          window.localStorage.setItem('token', access_token);\r\n          console.log('Access token:', access_token);\r\n          this.loggedIn = true;\r\n  \r\n          // Переход на AdminVhod после успешного входа\r\n          this.$router.push({ name: 'AdminVhod' });\r\n  \r\n          // Получение данных сразу после входа\r\n          this.fetchData();\r\n        } catch (error) {\r\n          console.error('Ошибка при входе:', error);\r\n        }\r\n      },\r\n  \r\n      \r\n    }\r\n  }\r\n  </script>\r\n  \r\n  \r\n  <style>\r\n  body {\r\n    font-family: 'Roboto', sans-serif;\r\n    margin: 0;\r\n    padding: 0;\r\n    background-color: #77CBCE; /* Задний фон всей страницы */\r\n  }\r\n  \r\n  .admin-panel {\r\n    max-width: 400px;\r\n    margin: 50px auto;\r\n    padding: 20px;\r\n    background-color: #fff;\r\n    border-radius: 8px;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .admin-panel h1 {\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n    color: #333;\r\n  }\r\n  \r\n  .login-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .admin-panel label {\r\n    margin-bottom: 10px;\r\n    color: #555;\r\n  }\r\n  \r\n  .input-field {\r\n    padding: 12px;\r\n    margin-bottom: 20px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 6px;\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .login-button {\r\n    padding: 12px 24px;\r\n    background-color: #4CAF50;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 6px;\r\n    font-size: 18px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s ease;\r\n  }\r\n  \r\n  .login-button:hover {\r\n    background-color: #45a049;\r\n  }\r\n  \r\n  .welcome-message {\r\n    text-align: center;\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .error-message {\r\n    color: #f44336;\r\n    font-size: 14px;\r\n    margin-top: 5px;\r\n  }\r\n  </style>\r\n  "],"mappings":";AAqBA,OAAAA,KAAA;;AAEA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,WAAA;MACAC,QAAA;MACA;IACA;EACA;EAGAC,OAAA;IACA,MAAAC,WAAA;MACA;QACA,MAAAC,QAAA,SAAAR,KAAA,CAAAS,IAAA;UACAP,KAAA,OAAAA,KAAA;UACAC,QAAA,OAAAA;QACA;QACA;UAAAO;QAAA,IAAAF,QAAA,CAAAP,IAAA;QACA,KAAAG,WAAA,GAAAM,YAAA;QACAC,MAAA,CAAAC,YAAA,CAAAC,OAAA,UAAAH,YAAA;QACAI,OAAA,CAAAC,GAAA,kBAAAL,YAAA;QACA,KAAAL,QAAA;;QAEA;QACA,KAAAW,OAAA,CAAAC,IAAA;UAAAC,IAAA;QAAA;;QAEA;QACA,KAAAC,SAAA;MACA,SAAAC,KAAA;QACAN,OAAA,CAAAM,KAAA,sBAAAA,KAAA;MACA;IACA;EAGA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}